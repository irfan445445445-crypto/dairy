<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Music Player</title>
</head>
<body style="margin:0;overflow:hidden;">
  <audio id="bgMusic"></audio>

  <script>
    // ðŸŽµ === SONG LIST ===
    const songs = [
      "music/song1.mp3",
      "music/song2.mp3",
      "music/song3.mp3",
      "music/song4.mp3",
      "music/song5.mp3",
      "music/song6.mp3",
      "music/song7.mp3",
      "music/song8.mp3",
      "music/song9.mp3",
      "music/song10.mp3",
      "music/song11.mp3",
      "music/song12.mp3",
      "music/song13.mp3",
      "music/song14.mp3",
      "music/song14.mp3",
      "music/song16.mp3",
      "music/song18.mp3",
      
    ];

    const audio = document.getElementById("bgMusic");
    audio.volume = 0.4;
    let isMuted = false;

    // ðŸŽ² Pick a random song
    function getRandomSong() {
      const index = Math.floor(Math.random() * songs.length);
      return songs[index];
    }

    // â–¶ï¸ Play a random song
    function playRandomSong() {
      const song = getRandomSong();
      audio.src = song;
      audio.play().catch(err => console.warn("Autoplay blocked:", err));

      // When the song ends, pick another
      audio.onended = () => {
        playRandomSong();
      };
    }

    // ðŸ”‡ Toggle mute
    function toggleMute() {
      isMuted = !isMuted;
      audio.muted = isMuted;
    }

    // â¹ Stop playback
    function stopMusic() {
      audio.pause();
      audio.currentTime = 0;
    }

    // ðŸŽ§ Handle parent messages
    window.addEventListener("message", (e) => {
      switch(e.data.type) {
        case "playMusic":
          playRandomSong();
          break;
        case "toggleMute":
          toggleMute();
          break;
        case "stopMusic":
          stopMusic();
          break;
      }
    });
  </script>
</body>
</html>
